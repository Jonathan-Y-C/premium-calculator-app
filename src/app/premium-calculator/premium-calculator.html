<div class="container mt-5">
	<h2 class="mb-4">Premium Calculator</h2>
	<form [formGroup]="form" autocomplete="off" novalidate>
		<div class="mb-3">
			<label for="name" class="form-label">Name</label>
			<input type="text" class="form-control" id="name" formControlName="name" required>
			<div *ngIf="form.get('name')?.invalid && form.get('name')?.touched" class="text-danger">Name is required.</div>
		</div>
		<div class="mb-3">
			<label for="age" class="form-label">Age Next Birthday</label>
			<input type="number" class="form-control" id="age" formControlName="age" min="1" required>
			<div *ngIf="form.get('age')?.invalid && form.get('age')?.touched" class="text-danger">Age is required and must be positive.</div>
		</div>
		<div class="mb-3">
			<label for="dob" class="form-label">Date of Birth (mm/YYYY)</label>
			<input type="text" class="form-control" id="dob" formControlName="dob" pattern="^(0[1-9]|1[0-2])\/\d{4}$" required placeholder="mm/YYYY">
			<div *ngIf="form.get('dob')?.invalid && form.get('dob')?.touched" class="text-danger">Date of Birth is required and must be mm/YYYY.</div>
		</div>
		<div class="mb-3">
			<label for="occupation" class="form-label">Usual Occupation</label>
			<select class="form-select" id="occupation" formControlName="occupation" required>
				<option [ngValue]="null">Select Occupation</option>
				<option *ngFor="let occ of occupations" [ngValue]="occ">{{ occ.name }}</option>
			</select>
			<div *ngIf="form.get('occupation')?.invalid && form.get('occupation')?.touched" class="text-danger">Occupation is required.</div>
		</div>
		<div class="mb-3">
			<label for="sumInsured" class="form-label">Death â€“ Sum Insured</label>
			<input type="number" class="form-control" id="sumInsured" formControlName="sumInsured" min="1" required>
			<div *ngIf="form.get('sumInsured')?.invalid && form.get('sumInsured')?.touched" class="text-danger">Sum Insured is required and must be positive.</div>
		</div>
		<div class="mb-3">
			<label for="monthlyPremium" class="form-label">Monthly Premium</label>
			<div id="monthlyPremium" class="form-control bg-light" readonly>
				<span *ngIf="premium !== null">{{ premium | number:'1.2-2' }}</span>
				<span *ngIf="premium === null">--</span>
			</div>
			<div *ngIf="premiumError" class="text-danger mt-2">{{ premiumError }}</div>
		</div>
	</form>
</div>
